> 学习计算机操作系统的目的在于能够更深入的研究系统安全方向的高级课题，因此学习过后，更侧重整理安全方向上必须理解的概念

### 操作系统概念

迄今，任何一个计算机系统都配置一种或多种操作系统。

计算机系统由两部分组成：硬件和软件

![操作系统与软硬件的关系](https://cdn.jsdelivr.net/gh/qoo3/imgur@master/bookmaker/1589472392517.png)

操作系统(operating system 简称 OS)是`计算机系统`中的一个系统软件，它是这样一些程序模块的集合----它们管理和控制计算机系统中的硬件及软件资源，合理地组织计算机工作流程，以便有效利用这些资源为用户提供一个具有足够的功能、使用方便、可扩展、安全和可管理的工作环境，从而在计算机与其用户之间起到`接口`的作用

功能模块：处理机管理、存储管理、设备管理、信息管理（文件系统管理）、用户接口

### 计算机发展

| 时间 | 阶段                    | 标志                               | 应用领域                                        |
| ---- | ----------------------- | ---------------------------------- | ----------------------------------------------- |
| 1945 | 电子真空管              | 机器语言                           | 科学计算                                        |
| 1956 | 晶体管                  | 批处理控制(Fortran/COBOL)          | 数据处理                                        |
| 1959 | 集成电路                | 多道程序(操作系统/数据库/高级语言) | 继续拓展更高的领域                              |
| 1976 | 大规模/超大规模集成电路 | 分时系统                           | 向快速化/小型化/系统化/网络化/智能化/等方面发展 |

21世纪初开始，以移动、分布和网络计算为代表，现代计算机正向着普适计算机、网络计算机以及巨型、微型、并行、分布、网络化、智能化和生物信息化几个方面发展

适应上述计算机发展过程，操作系统经历了如下的发展过程：手工操作阶段(无操作系统)、批处理、执行系统、多道程序系统、分时系统、实时系统、通用操作系统、网络操作系统、分布式操作系统等

### 操作系统启动

当用户启动计算机的电源时，计算机硬件会自动产生一个中断信号。这个中断信号将会触发计算机处理器CPU中的一段指令执行。该段指令的执行结果将是发现外部存储设备中操作系统引导区（boot block）的位置。如果计算机的外部存储设备中已经按照了操作系统，则操作系统引导区中的代码将自动导入计算机的内存，并开始执行。引导区代码的执行，结果是将操作系统程序加载到计算机内存中的指定区域，并初始化计算机的有关硬件，例如寄存器、终端设备和各种计算机运行所需要的数据结构等。至此，操作系统程序开始运转启动，并为用户提供相应的用户界面，开始提供用户所需要的各种服务

### 系统调用

操作系统为用户提供两个接口界面，一个是系统为用户提供的各种命令接口界面；另一个接口是`系统调用`

系统命令都不陌生，主要分为脱机和联机两种状态，联机是最常见的DOS、shell等，用户敲一条命令就会返回命令结果到控制台

系统调用是操作系统提供给编程人员的唯一接口(封装）。编程人员利用系统调用，在源程序一级动态请求和释放系统资源，调用系统中已有的系统功能来完成那些与机器硬件部分相关的工作以及控制程序的执行速度的等。因此，系统调用像一个黑箱子那样，对用户屏蔽了操作系统的具体动作而只提供有关的功能。事实上，命令控制界面也是在系统调用的基础上开发而成的。

系统调用大致可以分为6类：设备管理、文件管理、进程控制、进程通信、存储管理、线程管理

`陷阱(trap)处理机构`：在系统中为控制系统调用服务的机构，与此相对应，由于系统调用引起处理机中断的指令称为陷阱指令

![](https://cdn.jsdelivr.net/gh/qoo3/imgur@master/bookmaker/1589472393781.png)

#### Linux系统调用

每个系统调用由两部分组成：`核心函数`，部分提供实现系统调用功能的共享代码，作为操作系统的核心程序驻留在内存中；`接口函数`，部分提供给应用程序API接口，它把系统调用号、入口参数地址传送给相应的核心函数

#### windows系统调用

系统调用被进一步编写成不同的库函数后放入动态链接库DLL中。这些库函数构成了windows操作系统提供给程序员的编程界面。这个编程界面被称为应用编程接口API

